<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>装修效果图大全2018</title>
    <script src="../js/jquery.js"></script>
    <link rel="stylesheet" href="../css/zhuangxiu.css"/>
</head>


<body>
<div class="container">
    <div class="header">

        <div id="xr"><img src="../image/imgs/hplg.png" alt=""/>大众点评首页</div>

        <div>
            <ul class="top">
                <li>写点评</li>
                <li>你好，请登录</li>
                <li><font color="#ff860d">免费注册</font></li>
                <li>个人中心<img src="../image/imgs/bjt.png" alt=""/></li>
                <li>商户服务<img src="../image/imgs/bjt.png" alt=""/></li>
                <li>帮助中心<img src="../image/imgs/bjt.png" alt=""/></li>
                <li>网站导航<img src="../image/imgs/bjt.png" alt=""/></li>
            </ul>
        </div>

        <div class="search">
            <p id="logo"><a href=""><img src="../image/imgs/logo.png" alt=""/></a></p>
            <input type="text" value="" placeholder="搜索商户名/地址/菜名/外卖等"/>
            <div class="sjz">搜家装</div>
            <div class="sqz">搜全站</div>
            <div class="under">
                <ul>
                    <li><font color="#cccccc">大家都在搜：</font></li>
                    <li><font color="999999">名创优品</font></li>
                    <li><font color="999999">宜家家居</font></li>
                    <li><font color="999999">苏宁易购</font></li>
                    <li><font color="999999">装修</font></li>
                    <li><font color="999999">窗帘</font></li>
                    <li><font color="999999">五金店</font></li>
                </ul>
            </div>
        </div>
        <div class="index">
            <div id="jz">家装 <img src="../image/imgs/jt.png" alt=""/></div>

            <div id="add">
               <div id="ad1">
                   <div class="big">装修公司</div>
                   <div class="small">
                       <ul>
                           <li>半包装修</li>
                           <li>全包装修</li>
                           <li>免费设计</li>
                           <li>装修报价</li>
                       </ul>
                   </div>
               </div>
               <div id="ad2">
                   <div class="big">定制家居</div>
                   <div class="small">
                       <ul>
                           <li>金属定制</li>
                           <li>家具定制</li>
                           <li>橱柜</li>
                       </ul>
                   </div>
               </div>
                <div id="ad3">
                    <div class="big">装修建材</div>
                    <div class="small">
                        <ul>
                            <li>地板</li>
                            <li>厨卫洁具</li>
                            <li>灯饰照明</li>
                        </ul>
                    </div>
                </div>
                </div>

            <div id="word">
                <ul>
                    <li>首页</li>
                    <li>装修美图</li>
                    <li>家装头条</li>
                    <li>无忧装</li>
                    <li>同城活动</li>
                    <li>团购</li>
                    <li>家装社区</li>
                </ul>
            </div>
            <div class="color"></div>
        </div>
    </div>
</div>

<div class="content">
    <p>南京家装 <img src="../image/imgs/rjt.png" alt=""/>装修美图 <img src="../image/imgs/rjt.png" alt=""/></p>
    <div class="first">
        <div class="fh">
            <div class="yi">空间：</div>
            <div class="er">不限</div>
            <div class="san">
                <ul>
                    <li>全套</li>
                    <li>客厅</li>
                    <li>卧室</li>
                    <li>书房</li>
                    <li>餐厅</li>
                    <li>厨房</li>
                    <li>卫生间</li>
                    <li>阳台</li>
                    <li>儿童房</li>
                    <li>衣帽间</li>
                    <li>玄关</li>
                    <li>阁楼</li>
                    <li>楼梯</li>
                    <li>LOFT</li>
                    <li>影音室</li>
                </ul>
            </div>
            <div class="si">
                <ul>
                    <li>阳光房</li>
                    <li>储藏室</li>
                    <li>走廊</li>
                    <li>健身室</li>
                </ul>
            </div>
        </div>
        <hr width="98%">
        <div class="sh">
            <div class="yi">风格：</div>
            <div class="er">不限</div>
            <div class="san">
                <ul>
                    <li>现代简约</li>
                    <li>宜家</li>
                    <li>简欧</li>
                    <li>北欧</li>
                    <li>欧式</li>
                    <li>中式</li>
                    <li>美式</li>
                    <li>韩式</li>
                    <li>田园</li>
                    <li>地中海</li>
                    <li>日式</li>
                    <li>东南亚</li>
                    <li>新古典</li>
                    <li>英伦</li>
                    <li>法式</li>
                </ul>
            </div>
            <div class="si">
                <ul><li>混搭</li></ul>
            </div>
        </div>
    </div>
    <div class="second">
        <div class="zuo">共178519条结果</div>
        <div class="you"><font color="#ff860d">最新</font>&nbsp;&nbsp;&nbsp;&nbsp;最热</div>
    </div>
</div>

<div id="waterFall">
    <div class="box">
        <div class="pic"><img src="../image/imgs/zx10.jpg"/></div>
        <div class="info"><div class="gName">90平米欧式风格卧室壁纸图
        <div class="account"><img src="../image/imgs/eye.png" alt=""/>
                             <font color="#a9a9a9" size="2px">4057</font></div>
        </div>
            <p class="gInf">90平米&nbsp;&nbsp;&nbsp;欧式风格&nbsp;&nbsp;&nbsp;卧室</p>
        </div>
    </div>
</div>

<div class="footer">
    <div id="a">相关推荐:</div>
    <div id="b">
        <ul>
            <li>其他风格书房装修效果图</li>
            <li>走廊吊顶装修效果图</li>
            <li>日式风格鞋柜装修效果图</li>
            <li>简欧风格现代简约装修效果图</li>
            <li>混搭风格装修效果图</li>
        </ul>
    </div>
    <div id="c">猜你喜欢:</div>
    <div id="d">
        <ul>
            <li>经济型110平米三室两厅现代简约风格卧室装修案例</li>
            <li>富裕型110平米三室两厅美式风格餐厅设计图</li>
            <li>富裕型140平米复式混搭风格走廊效果图</li>
        </ul>
    </div>
</div>

<div class="pages">
    <ul>
        <li><button>1</button></li>
        <li><button>2</button></li>
        <li><button>3</button></li>
        <li><button>4</button></li>
        <li><button>5</button></li>
        <li><button>6</button></li>
        <li><button>7</button></li>
        <li><button>8</button></li>
        <li><button>9</button></li>
        <li>...</li>
        <li><button>12138</button></li>
        <li><button>下一页</button></li>
    </ul>
</div>





<script>
   window.onload=function(){
       var jz=document.getElementById('jz');
       var add=document.getElementById('add');
       jz.onmouseover=function(){
           this.style.cursor='pointer';
           add.style.display='block';
           add.onmouseover=function(){
               add.style.display='block';
           }
       };
       jz.onmouseout=function(){
           add.style.display='none';
           add.onmouseout=function(){
               add.style.display='none';
           }
       };
   };

   $(function(){
       loadPic();
       function loadPic(){
           $.ajax({
               url:"../js/waterfall.json",
               async:"true",
               type:"GET",
               dataType:"json",
               success:function(msg){
                   $.each(msg.data,function(index,data){
                       console.log(data.src);
                       var str=`<div class="box">
                               <div class="pic"><img src="${data.src}"/></div>
                               <div class="info"><div class="gName">90平米欧式风格卧室壁纸图
                               <div class="account"><img src="../image/imgs/eye.png" alt=""/>
                               <font color="#a9a9a9" size="2px">4057</font></div>
                       </div>
                       <p class="gInf">90平米&nbsp;&nbsp;&nbsp;欧式风格&nbsp;&nbsp;&nbsp;卧室</p>
                       </div>
                       </div>`
                        console.log(str);
                       $('#waterFall').append(str);
                   });
                   waterfall();
               },
               error:function(){
                   alert(0);
               }

           })
       }
   });
   function waterfall(){
       var box = $('.box');
       var lie = 3;
       var heightArr = [];
       box.each(function (index, data) {
           var h = $(data).outerHeight();
           var w = $(data).outerWidth();
           if (index < lie) {
               console.log(w);
               heightArr.push(h);
               console.log(heightArr);
               console.log(h);
               $(data).css({
                   'top': 0,
                   'left': index * w + 'px'
               })
           } else {
               var min = getMinHeight();
               var mH = min.mH;
               var mI = min.mI;
               $(data).css({
                   'top': mH+'px',
                   'left': mI * w + 'px'
               });
               heightArr[mI] = heightArr[mI] + h;
               console.log(mH, mI);}
           function getMinHeight() {
               var minHeight = Math.min.apply(Math, heightArr);
               var minIndex = heightArr.indexOf(minHeight);
               console.log(minHeight, minIndex);
               return {
                   mH: minHeight,
                   mI: minIndex
               }
           }
       })
   }

   $('.box').mouseover(function(){
       this.style.cursor='pointer';
   });
   $('.box').mouseout(function(){
       this.style.cursor='none';
   });
   $('.box:first').click(function(){
       window.location.href="details.html";
    });

    $('.header').click(function(){
        window.location.href="index.html";
    })
</script>

</body>
</html>